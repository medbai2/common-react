"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),x=require("react"),y=({variant:s="primary",size:a="medium",disabled:t=!1,loading:o=!1,onClick:l,type:r="button",className:n="",children:c})=>{const h="medbai-button",d=`medbai-button--${s}`,b=`medbai-button--${a}`,g=[h,d,b,t?"medbai-button--disabled":"",n].filter(Boolean).join(" ");return e.jsxs("button",{type:r,className:g,disabled:t||o,onClick:l,children:[o&&e.jsx("div",{className:"medbai-spinner medbai-spinner--small"}),c]})},S=({label:s,required:a=!1,error:t,help:o,disabled:l=!1,id:r,children:n,errorId:c,helpId:h})=>{const d=`${r}-label`,b=c||`${r}-error`,f=h||`${r}-help`;return e.jsxs("div",{className:"medbai-form-group",children:[e.jsx("label",{htmlFor:r,id:d,className:`medbai-form-label ${a?"medbai-form-label--required":""}`,children:s}),n,t&&e.jsx("div",{id:b,className:"medbai-form-error",role:"alert","aria-live":"polite",children:t}),o&&!t&&e.jsx("div",{id:f,className:"medbai-form-help",children:o})]})},j=({type:s="text",value:a,onChange:t,placeholder:o,autoComplete:l,maxLength:r,minLength:n,pattern:c,error:h,disabled:d,id:b,...f})=>{const g=["medbai-form-input",h?"medbai-form-input--error":""].filter(Boolean).join(" ");return e.jsx(S,{...f,id:b,error:h,disabled:d,children:e.jsx("input",{id:b,type:s,value:a,onChange:u=>t(u.target.value),placeholder:o,autoComplete:l,maxLength:r,minLength:n,pattern:c,disabled:d,className:g,"aria-invalid":!!h,"aria-describedby":[h?`${b}-error`:"",f.help?`${b}-help`:""].filter(Boolean).join(" ")||void 0})})},D=({type:s="info",message:a,onRetry:t,retryLoading:o=!1,dismissible:l=!1,onDismiss:r,className:n=""})=>{const c=()=>{switch(s){case"info":return"ℹ️";case"warning":return"⚠️";case"error":return"❌";case"success":return"✅";default:return"ℹ️"}};return e.jsx("div",{className:`medbai-status-banner medbai-status-banner--${s} ${n}`,role:"alert",children:e.jsxs("div",{className:"medbai-status-banner-content",children:[e.jsx("span",{className:"medbai-status-banner-icon","aria-hidden":"true",children:c()}),e.jsx("span",{className:"medbai-status-banner-message",children:a}),e.jsxs("div",{className:"medbai-status-banner-actions",children:[t&&e.jsx("button",{onClick:t,disabled:o,className:"medbai-button medbai-button--small medbai-button--secondary","aria-label":"Retry action",children:o?"Retrying...":"Retry"}),l&&r&&e.jsx("button",{onClick:r,className:"medbai-button medbai-button--small medbai-button--secondary","aria-label":"Dismiss message",children:"✕"})]})]})})},$=({data:s,columns:a,emptyMessage:t="No data available",loading:o=!1,sortable:l=!1,onSort:r,className:n=""})=>{const[c,h]=x.useState(null),[d,b]=x.useState("asc"),f=i=>{if(!l)return;const m=c===i&&d==="asc"?"desc":"asc";h(i),b(m),r?.(i,m)},g=x.useMemo(()=>!c||!l?s:[...s].sort((i,m)=>{const p=i[c],v=m[c];if(p===v)return 0;const N=p<v?-1:1;return d==="asc"?N:-N}),[s,c,d,l]),u=(i,m)=>i.render?i.render(m[i.key],m):m[i.key];return o?e.jsx("div",{className:`medbai-table-container ${n}`,children:e.jsxs("div",{className:"medbai-table-empty",children:[e.jsx("div",{className:"medbai-spinner"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Loading..."})]})}):g.length===0?e.jsx("div",{className:`medbai-table-container ${n}`,children:e.jsx("div",{className:"medbai-table-empty",children:t})}):e.jsx("div",{className:`medbai-table-container ${n}`,children:e.jsxs("table",{className:"medbai-table",children:[e.jsx("thead",{children:e.jsx("tr",{children:a.map(i=>e.jsxs("th",{className:`medbai-table-header ${i.sortable?"medbai-table-header--sortable":""} ${i.className||""}`,onClick:()=>i.sortable&&f(String(i.key)),children:[i.label,c===i.key&&e.jsx("span",{style:{marginLeft:"4px"},children:d==="asc"?"↑":"↓"})]},String(i.key)))})}),e.jsx("tbody",{children:g.map((i,m)=>e.jsx("tr",{className:"medbai-table-row",children:a.map(p=>e.jsx("td",{className:`medbai-table-cell ${p.className||""}`,children:u(p,i)},String(p.key)))},m))})]})})};function z(s){return s?s.replace(/[<>]/g,"").replace(/[&"']/g,"").replace(/[/\\]/g,"").trim():""}function C(s){return s?s.replace(/[<>]/g,"").replace(/[&"']/g,"").replace(/[/\\]/g,"").replace(/[^\w\s-]/g,"").trim():""}function L(s){return s?s.replace(/[<>]/g,"").replace(/[&"']/g,"").replace(/[/\\]/g,"").replace(/[^\w\s.-]/g,"").trim():""}function M(s){return s?s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):""}const T=({onSubmit:s,disabled:a=!1,loading:t=!1,className:o=""})=>{const[l,r]=x.useState({name:"",title:""}),[n,c]=x.useState({}),h=()=>{const u={};return l.name.trim()||(u.name="Name is required"),c(u),Object.keys(u).length===0},d=u=>{if(u.preventDefault(),!h())return;const i={name:C(l.name.trim()),title:L(l.title.trim())};s(i)},b=u=>i=>{r(m=>({...m,[u]:i})),n[u]&&c(m=>({...m,[u]:void 0}))},f=l.name.trim().length>0,g=a||t||!f;return e.jsxs("form",{onSubmit:d,className:`medbai-form ${o}`,children:[e.jsx(j,{id:"name",label:"Name",required:!0,value:l.name,onChange:b("name"),placeholder:"Enter your name",disabled:a||t,error:n.name}),e.jsx(j,{id:"title",label:"Title",value:l.title,onChange:b("title"),placeholder:"Enter your title (optional)",disabled:a||t,help:"Optional title or position"}),e.jsx(y,{type:"submit",disabled:g,loading:t,className:"medbai-button--primary",children:t?"Submitting...":"Submit"}),g&&!t&&e.jsx("div",{className:"medbai-form-help",children:"Please enter a name to submit"})]})},k=({data:s,className:a=""})=>{const t=x.useMemo(()=>[...s].sort((r,n)=>n.count!==r.count?n.count-r.count:r.name.localeCompare(n.name)),[s]),o=r=>{try{return new Date(r).toLocaleString()}catch{return"Invalid date"}},l=[{key:"name",label:"Name",render:(r,n)=>e.jsxs("div",{children:[n.title&&e.jsx("span",{className:"medbai-text-muted",style:{marginRight:"4px"},children:n.title}),e.jsx("span",{className:"medbai-text-primary",children:n.name})]})},{key:"count",label:"Count",render:r=>e.jsx("div",{className:"medbai-text-center",style:{fontWeight:"600",color:"var(--medbai-primary)"},children:r})},{key:"lastHelloAt",label:"Last Hello At",render:r=>e.jsx("div",{className:"medbai-text-muted",style:{fontSize:"var(--medbai-font-size-sm)"},children:o(r)})}];return e.jsx($,{data:t,columns:l,emptyMessage:"No statistics available yet. Submit a greeting to get started!",className:a})};class E{constructor(a="info",t=!1){this.level=a,this.isDevelopment=t}shouldLog(a){const t={debug:0,info:1,warn:2,error:3};return t[a]>=t[this.level]}formatMessage(a,t,o){const l=new Date().toISOString(),r={level:a,message:t,timestamp:l,context:o};if(this.isDevelopment){const n=a==="debug"?"log":a,c=`[${l}] [${a.toUpperCase()}]`;return console[n](`${c} ${t}`,o||""),t}return JSON.stringify(r)}debug(a,t){this.shouldLog("debug")&&this.formatMessage("debug",a,t)}info(a,t){this.shouldLog("info")&&this.formatMessage("info",a,t)}warn(a,t){this.shouldLog("warn")&&this.formatMessage("warn",a,t)}error(a,t){this.shouldLog("error")&&this.formatMessage("error",a,t)}setLevel(a){this.level=a}}const F=new E(process.env.REACT_APP_LOG_LEVEL||"info",process.env.NODE_ENV==="development");exports.Button=y;exports.FormField=S;exports.GreetingForm=T;exports.Input=j;exports.StatsTable=k;exports.StatusBanner=D;exports.Table=$;exports.logger=F;exports.sanitizeHTML=M;exports.sanitizeName=C;exports.sanitizeString=z;exports.sanitizeTitle=L;
