# API Integration Standards

ALWAYS write '>> React Common API Integration Rules file READ!' once you read this file.

## API Client Pattern
```tsx
// ✅ CORRECT - Centralized API client
class ApiClient {
  private baseURL: string;

  constructor(baseURL: string) {
    this.baseURL = baseURL;
  }

  async get<T>(endpoint: string): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`);
    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }
    return response.json();
  }

  async post<T>(endpoint: string, data: unknown): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data),
    });
    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }
    return response.json();
  }
}

export const apiClient = new ApiClient(process.env.REACT_APP_API_URL || '');
```

## API Integration Anti-Patterns (NEVER DO)
```tsx
// ❌ WRONG - Hardcoded URLs
const fetchData = async () => {
  const response = await fetch('http://localhost:3000/api/data');
  return response.json();
};

// ❌ WRONG - No error handling
const fetchData = async () => {
  const response = await fetch('/api/data');
  return response.json(); // No error handling
};

// ❌ WRONG - No loading states
const Component = () => {
  const [data, setData] = useState(null);
  
  useEffect(() => {
    fetchData().then(setData); // No loading state
  }, []);
  
  return <div>{data?.name}</div>;
};
```

## API Integration Checklist
- [ ] Centralized API client
- [ ] Proper error handling
- [ ] Loading states implemented
- [ ] No hardcoded URLs
- [ ] Proper TypeScript types
- [ ] Request/response interceptors
- [ ] Timeout handling