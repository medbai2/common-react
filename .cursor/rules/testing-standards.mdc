---
description: "React Common Testing Standards - Testing requirements and patterns"
globs: ["**/*.test.tsx", "**/*.test.ts", "**/*.spec.tsx", "**/*.spec.ts", "**/*.tsx", "**/*.ts"]
---

# Testing Standards

ALWAYS write 'üöÄ React Common Testing Standards Rules file READ!' once you read this file.

## Component Testing
```tsx
// ‚úÖ CORRECT - Component testing
import { render, screen, fireEvent } from '@testing-library/react';
import { Component } from './Component';

describe('Component', () => {
  it('renders with correct props', () => {
    render(<Component title="Test" isVisible={true} onAction={jest.fn()} />);
    expect(screen.getByText('Test')).toBeInTheDocument();
  });

  it('calls onAction when button is clicked', () => {
    const mockAction = jest.fn();
    render(<Component title="Test" isVisible={true} onAction={mockAction} />);
    
    fireEvent.click(screen.getByRole('button'));
    expect(mockAction).toHaveBeenCalledWith('test');
  });

  it('does not render when isVisible is false', () => {
    render(<Component title="Test" isVisible={false} onAction={jest.fn()} />);
    expect(screen.queryByText('Test')).not.toBeInTheDocument();
  });
});
```

## Testing Anti-Patterns (NEVER DO)
```tsx
// ‚ùå WRONG - Testing implementation details
const component = render(<Component />);
expect(component.state.isVisible).toBe(true); // Don't test state directly

// ‚ùå WRONG - No cleanup
afterEach(() => {
  // Missing cleanup
});

// ‚ùå WRONG - Testing multiple things in one test
it('renders and handles click and updates state', () => {
  // Too many assertions in one test
});
```

## Testing Checklist
- [ ] Components tested in isolation
- [ ] User interactions tested
- [ ] Error states tested
- [ ] Loading states tested
- [ ] Props validation tested
- [ ] Cleanup implemented
- [ ] Mock external dependencies
- [ ] Test accessibility