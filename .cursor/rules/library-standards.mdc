---
description: "React Common Library Standards - Approved library stack and selection rules"
globs: ["**/*.tsx", "**/*.ts", "**/*.jsx", "**/*.js", "**/package.json"]
---

# Library Standards

ALWAYS write 'üöÄ React Common Library Standards Rules file READ!' once you read this file.

## Critical Rule: USE APPROVED LIBRARIES ONLY
- **NEVER** add new libraries without approval
- **ALWAYS** use the approved library stack from hello project
- **ALWAYS** check this file before adding any new dependency
- **ALWAYS** document why a new library is needed

## Approved Library Stack

### Core React & TypeScript
- **react v18.2.0** - React library
- **react-dom v18.2.0** - React DOM rendering
- **typescript v4.9.5** - TypeScript compiler
- **@types/react v18.2.0** - React TypeScript definitions
- **@types/react-dom v18.2.0** - React DOM TypeScript definitions
- **@types/node v20.19.0** - Node.js TypeScript definitions

### Build Tools & Development
- **vite v7.1.6** - Build tool and dev server
- **@vitejs/plugin-react v5.0.3** - Vite React plugin
- **vitest v3.2.4** - Testing framework
- **@vitest/ui v3.2.4** - Vitest UI
- **@vitest/coverage-v8 v3.2.4** - Coverage reporting

### Testing & Quality
- **@testing-library/react v13.4.0** - React testing utilities
- **@testing-library/dom v10.4.1** - DOM testing utilities
- **@testing-library/jest-dom v6.8.0** - Jest DOM matchers
- **@testing-library/user-event v13.5.0** - User interaction testing
- **@types/jest v27.5.2** - Jest TypeScript definitions

### Performance & Monitoring
- **web-vitals v2.1.4** - Web performance metrics

## Library Selection Rules

### When Adding New Libraries
1. **Check this file first** - Is there an approved alternative?
2. **Document the need** - Why is this library required?
3. **Consider alternatives** - Are there lighter alternatives?
4. **Check maintenance** - Is the library actively maintained?
5. **Security review** - Does it have known vulnerabilities?
6. **Update this file** - Add the new library to the approved list

### Library Categories

#### React Framework
- **Primary**: react v18.2.0
- **Alternative**: None approved
- **Reason**: React 18 provides excellent performance and concurrent features

#### TypeScript
- **Primary**: typescript v4.9.5
- **Alternative**: None approved
- **Reason**: TypeScript provides type safety and better developer experience

#### Build Tool
- **Primary**: vite v7.1.6
- **Alternative**: None approved
- **Reason**: Vite provides fast development and optimized builds

#### Testing
- **Primary**: vitest v3.2.4 + @testing-library/react
- **Alternative**: None approved
- **Reason**: Vitest provides fast testing with excellent React support

#### Performance Monitoring
- **Primary**: web-vitals v2.1.4
- **Alternative**: None approved
- **Reason**: Web Vitals provides essential performance metrics

## Anti-Patterns (NEVER DO)

### Library Anti-Patterns
```tsx
// ‚ùå WRONG - Using unapproved libraries
import { createStore } from 'redux'; // Use React state instead
import { Router } from 'react-router-dom'; // Not in approved list

// ‚ùå WRONG - Using outdated versions
import React from 'react@17'; // Use v18.2.0

// ‚ùå WRONG - Adding libraries without approval
import { someLibrary } from 'some-random-package'; // Not in approved list
```

### Correct Patterns (ALWAYS DO)
```tsx
// ‚úÖ CORRECT - Using approved libraries
import React from 'react';
import { render, screen } from '@testing-library/react';
import { describe, it, expect } from 'vitest';
import { getCLS, getFID, getFCP } from 'web-vitals';
```

## Library Version Management
- **ALWAYS** use specific versions (no `latest`)
- **ALWAYS** update versions in package.json
- **ALWAYS** test after version updates
- **ALWAYS** document breaking changes
- **ALWAYS** update this file when versions change

## Library Security
- **ALWAYS** check for security vulnerabilities
- **ALWAYS** use latest secure versions
- **ALWAYS** avoid libraries with known issues
- **ALWAYS** review library source code when possible

## Library Performance
- **ALWAYS** consider library performance impact
- **ALWAYS** benchmark critical libraries
- **ALWAYS** avoid heavy libraries for simple tasks
- **ALWAYS** monitor bundle size impact

## Bundle Size Considerations
- **ALWAYS** check bundle size impact
- **ALWAYS** use tree-shaking friendly libraries
- **ALWAYS** avoid large libraries for simple tasks
- **ALWAYS** consider code splitting for large libraries

## Library Checklist
- [ ] Library is in approved list
- [ ] Version is specified and current
- [ ] Security vulnerabilities checked
- [ ] Performance impact assessed
- [ ] Bundle size impact evaluated
- [ ] Documentation updated
- [ ] Team approval obtained
- [ ] Testing completed
- [ ] Migration plan documented

## Library Maintenance
- **ALWAYS** keep libraries up to date
- **ALWAYS** monitor for security updates
- **ALWAYS** test after updates
- **ALWAYS** document breaking changes
- **ALWAYS** maintain backward compatibility when possible

## Common Library Alternatives (NOT APPROVED)

### State Management
- **Redux** - Use React state instead
- **MobX** - Use React state instead
- **Zustand** - Use React state instead
- **Jotai** - Use React state instead

### Routing
- **React Router** - Not needed for SPA
- **Reach Router** - Not needed for SPA
- **Next.js Router** - Not needed for SPA

### UI Libraries
- **Material-UI** - Use custom CSS instead
- **Ant Design** - Use custom CSS instead
- **Chakra UI** - Use custom CSS instead
- **Mantine** - Use custom CSS instead

### Styling
- **Styled Components** - Use CSS files instead
- **Emotion** - Use CSS files instead
- **CSS-in-JS** - Use CSS files instead

### Forms
- **Formik** - Use React state instead
- **React Hook Form** - Use React state instead
- **Final Form** - Use React state instead

### Data Fetching
- **Apollo Client** - Use fetch API instead
- **React Query** - Use fetch API instead
- **SWR** - Use fetch API instead
- **Axios** - Use fetch API instead

## Why These Alternatives Are Not Approved

### State Management
- **React state is sufficient** for most applications
- **Redux adds complexity** without clear benefits
- **Other state libraries** add unnecessary dependencies

### Routing
- **SPA doesn't need routing** in most cases
- **Hash routing** can be implemented with React state
- **External routing libraries** add complexity

### UI Libraries
- **Custom CSS provides better control**
- **UI libraries add bundle size**
- **Custom components are more maintainable**

### Styling
- **CSS files are more performant**
- **CSS-in-JS adds runtime overhead**
- **CSS files are easier to maintain**

### Forms
- **React state handles forms well**
- **Form libraries add complexity**
- **Custom validation is more flexible**

### Data Fetching
- **Fetch API is sufficient**
- **Data fetching libraries add complexity**
- **Custom hooks provide better control**